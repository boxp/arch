<?xml version="1.0" encoding="UTF-8"?>
<!DOCTYPE svg PUBLIC "-//W3C//DTD SVG 1.1//EN" "http://www.w3.org/Graphics/SVG/1.1/DTD/svg11.dtd">
<svg xmlns="http://www.w3.org/2000/svg" xmlns:xlink="http://www.w3.org/1999/xlink" version="1.1" width="1201px" height="841px" viewBox="-0.5 -0.5 1201 841" content="&lt;mxfile host=&quot;app.diagrams.net&quot; modified=&quot;2025-08-06T10:28:00.000Z&quot; agent=&quot;Claude Code&quot; version=&quot;24.7.17&quot;&gt;&lt;diagram name=&quot;System Architecture&quot; id=&quot;system-arch&quot;&gt;&lt;mxGraphModel dx=&quot;1422&quot; dy=&quot;1018&quot; grid=&quot;1&quot; gridSize=&quot;10&quot; guides=&quot;1&quot; tooltips=&quot;1&quot; connect=&quot;1&quot; arrows=&quot;1&quot; fold=&quot;1&quot; page=&quot;1&quot; pageScale=&quot;1&quot; pageWidth=&quot;1200&quot; pageHeight=&quot;840&quot; math=&quot;0&quot; shadow=&quot;0&quot;&gt;&lt;root&gt;&lt;mxCell id=&quot;0&quot;/&gt;&lt;mxCell id=&quot;1&quot; parent=&quot;0&quot;/&gt;&lt;/root&gt;&lt;/mxGraphModel&gt;&lt;/diagram&gt;&lt;/mxfile&gt;">

  <defs/>
  <g>
    <!-- Title -->
    <text x="600" y="25" text-anchor="middle" font-family="Helvetica" font-size="24" font-weight="bold" fill="#000000">arch プロジェクト システム全体図</text>
    
    <!-- Legend -->
    <rect x="20" y="40" width="140" height="100" fill="#f5f5f5" stroke="#cccccc" stroke-width="1"/>
    <text x="90" y="60" text-anchor="middle" font-family="Helvetica" font-size="14" font-weight="bold">凡例</text>
    <rect x="25" y="70" width="15" height="10" fill="#ffe6cc" stroke="#d79b00"/>
    <text x="45" y="80" font-family="Helvetica" font-size="10">物理インフラ</text>
    <rect x="25" y="85" width="15" height="10" fill="#d5e8d4" stroke="#82b366"/>
    <text x="45" y="95" font-family="Helvetica" font-size="10">Kubernetes</text>
    <rect x="25" y="100" width="15" height="10" fill="#e1d5e7" stroke="#9673a6"/>
    <text x="45" y="110" font-family="Helvetica" font-size="10">クラウドサービス</text>
    <rect x="25" y="115" width="15" height="10" fill="#fff2cc" stroke="#d6b656"/>
    <text x="45" y="125" font-family="Helvetica" font-size="10">自動化ツール</text>

    <!-- Physical Infrastructure -->
    <rect x="50" y="160" width="300" height="200" fill="#ffe6cc" stroke="#d79b00" stroke-width="2" rx="10"/>
    <text x="200" y="185" text-anchor="middle" font-family="Helvetica" font-size="16" font-weight="bold">物理インフラ</text>
    
    <!-- Orange Pi Cluster -->
    <rect x="70" y="200" width="260" height="140" fill="#ffffff" stroke="#d79b00" stroke-width="1" rx="5"/>
    <text x="200" y="220" text-anchor="middle" font-family="Helvetica" font-size="14" font-weight="bold">Orange Pi Zero 3 クラスター</text>
    
    <!-- Individual nodes -->
    <rect x="80" y="230" width="70" height="40" fill="#ffedcc" stroke="#d79b00"/>
    <text x="115" y="245" text-anchor="middle" font-family="Helvetica" font-size="10">shanghai-1</text>
    <text x="115" y="260" text-anchor="middle" font-family="Helvetica" font-size="9">192.168.10.102</text>
    
    <rect x="160" y="230" width="70" height="40" fill="#ffedcc" stroke="#d79b00"/>
    <text x="195" y="245" text-anchor="middle" font-family="Helvetica" font-size="10">shanghai-2</text>
    <text x="195" y="260" text-anchor="middle" font-family="Helvetica" font-size="9">192.168.10.103</text>
    
    <rect x="240" y="230" width="70" height="40" fill="#ffedcc" stroke="#d79b00"/>
    <text x="275" y="245" text-anchor="middle" font-family="Helvetica" font-size="10">shanghai-3</text>
    <text x="275" y="260" text-anchor="middle" font-family="Helvetica" font-size="9">192.168.10.104</text>
    
    <!-- kube-vip -->
    <ellipse cx="200" cy="295" rx="60" ry="20" fill="#e6ffcc" stroke="#36c900"/>
    <text x="200" y="295" text-anchor="middle" font-family="Helvetica" font-size="10">kube-vip</text>
    <text x="200" y="310" text-anchor="middle" font-family="Helvetica" font-size="9">VIP: 192.168.10.99</text>

    <!-- Kubernetes Services -->
    <rect x="400" y="160" width="350" height="480" fill="#d5e8d4" stroke="#82b366" stroke-width="2" rx="10"/>
    <text x="575" y="185" text-anchor="middle" font-family="Helvetica" font-size="16" font-weight="bold">Kubernetes Services</text>
    
    <!-- GitOps -->
    <rect x="420" y="200" width="80" height="40" fill="#ccf2cc" stroke="#82b366"/>
    <text x="460" y="220" text-anchor="middle" font-family="Helvetica" font-size="11" font-weight="bold">ArgoCD</text>
    
    <!-- Monitoring -->
    <rect x="520" y="200" width="80" height="40" fill="#ccf2cc" stroke="#82b366"/>
    <text x="560" y="215" text-anchor="middle" font-family="Helvetica" font-size="10" font-weight="bold">Grafana</text>
    <text x="560" y="230" text-anchor="middle" font-family="Helvetica" font-size="10">Prometheus</text>
    
    <!-- Storage -->
    <rect x="620" y="200" width="80" height="40" fill="#ccf2cc" stroke="#82b366"/>
    <text x="660" y="220" text-anchor="middle" font-family="Helvetica" font-size="11" font-weight="bold">Longhorn</text>
    
    <!-- Dashboard -->
    <rect x="420" y="260" width="80" height="40" fill="#ccf2cc" stroke="#82b366"/>
    <text x="460" y="275" text-anchor="middle" font-family="Helvetica" font-size="10">Kubernetes</text>
    <text x="460" y="290" text-anchor="middle" font-family="Helvetica" font-size="10">Dashboard</text>
    
    <!-- Applications -->
    <rect x="520" y="260" width="80" height="40" fill="#ccf2cc" stroke="#82b366"/>
    <text x="560" y="280" text-anchor="middle" font-family="Helvetica" font-size="11" font-weight="bold">HitoHub</text>
    
    <rect x="620" y="260" width="80" height="40" fill="#ccf2cc" stroke="#82b366"/>
    <text x="660" y="280" text-anchor="middle" font-family="Helvetica" font-size="11" font-weight="bold">OpenHands</text>
    
    <!-- External Secrets -->
    <rect x="420" y="320" width="100" height="40" fill="#ccf2cc" stroke="#82b366"/>
    <text x="470" y="335" text-anchor="middle" font-family="Helvetica" font-size="10">External Secrets</text>
    <text x="470" y="350" text-anchor="middle" font-family="Helvetica" font-size="10">Operator</text>

    <!-- AWS Services -->
    <rect x="800" y="160" width="350" height="320" fill="#e1d5e7" stroke="#9673a6" stroke-width="2" rx="10"/>
    <text x="975" y="185" text-anchor="middle" font-family="Helvetica" font-size="16" font-weight="bold">AWS Services</text>
    
    <!-- ECR -->
    <rect x="820" y="200" width="100" height="60" fill="#ddd6e7" stroke="#9673a6"/>
    <text x="870" y="215" text-anchor="middle" font-family="Helvetica" font-size="12" font-weight="bold">ECR</text>
    <text x="870" y="230" text-anchor="middle" font-family="Helvetica" font-size="9">ark-discord-bot</text>
    <text x="870" y="245" text-anchor="middle" font-family="Helvetica" font-size="9">hitohub, openhands</text>
    <text x="870" y="255" text-anchor="middle" font-family="Helvetica" font-size="9">palserver</text>
    
    <!-- SSM Parameter Store -->
    <rect x="940" y="200" width="100" height="60" fill="#ddd6e7" stroke="#9673a6"/>
    <text x="990" y="215" text-anchor="middle" font-family="Helvetica" font-size="11" font-weight="bold">SSM Parameter</text>
    <text x="990" y="230" text-anchor="middle" font-family="Helvetica" font-size="11" font-weight="bold">Store</text>
    <text x="990" y="245" text-anchor="middle" font-family="Helvetica" font-size="9">Secrets Management</text>
    
    <!-- S3 -->
    <rect x="820" y="280" width="100" height="60" fill="#ddd6e7" stroke="#9673a6"/>
    <text x="870" y="295" text-anchor="middle" font-family="Helvetica" font-size="12" font-weight="bold">S3</text>
    <text x="870" y="310" text-anchor="middle" font-family="Helvetica" font-size="9">Longhorn Backups</text>
    <text x="870" y="325" text-anchor="middle" font-family="Helvetica" font-size="9">Orange Pi Images</text>
    
    <!-- IAM -->
    <rect x="940" y="280" width="100" height="60" fill="#ddd6e7" stroke="#9673a6"/>
    <text x="990" y="295" text-anchor="middle" font-family="Helvetica" font-size="12" font-weight="bold">IAM</text>
    <text x="990" y="310" text-anchor="middle" font-family="Helvetica" font-size="9">GitHub OIDC</text>
    <text x="990" y="325" text-anchor="middle" font-family="Helvetica" font-size="9">Service Accounts</text>
    
    <!-- GitHub Actions -->
    <rect x="820" y="360" width="220" height="40" fill="#ddd6e7" stroke="#9673a6"/>
    <text x="930" y="380" text-anchor="middle" font-family="Helvetica" font-size="12" font-weight="bold">GitHub Actions (CI/CD)</text>

    <!-- Cloudflare Services -->
    <rect x="800" y="520" width="350" height="240" fill="#e1d5e7" stroke="#9673a6" stroke-width="2" rx="10"/>
    <text x="975" y="545" text-anchor="middle" font-family="Helvetica" font-size="16" font-weight="bold">Cloudflare Services</text>
    
    <!-- DNS -->
    <rect x="820" y="560" width="100" height="50" fill="#ddd6e7" stroke="#9673a6"/>
    <text x="870" y="575" text-anchor="middle" font-family="Helvetica" font-size="12" font-weight="bold">DNS</text>
    <text x="870" y="590" text-anchor="middle" font-family="Helvetica" font-size="9">b0xp.io</text>
    <text x="870" y="600" text-anchor="middle" font-family="Helvetica" font-size="9">boxp.tk</text>
    
    <!-- Tunnels -->
    <rect x="940" y="560" width="100" height="50" fill="#ddd6e7" stroke="#9673a6"/>
    <text x="990" y="580" text-anchor="middle" font-family="Helvetica" font-size="12" font-weight="bold">Tunnels</text>
    <text x="990" y="595" text-anchor="middle" font-family="Helvetica" font-size="9">Secure Access</text>
    
    <!-- Zero Trust -->
    <rect x="820" y="630" width="100" height="50" fill="#ddd6e7" stroke="#9673a6"/>
    <text x="870" y="650" text-anchor="middle" font-family="Helvetica" font-size="11" font-weight="bold">Zero Trust</text>
    <text x="870" y="665" text-anchor="middle" font-family="Helvetica" font-size="9">Authentication</text>
    
    <!-- Pages -->
    <rect x="940" y="630" width="100" height="50" fill="#ddd6e7" stroke="#9673a6"/>
    <text x="990" y="650" text-anchor="middle" font-family="Helvetica" font-size="12" font-weight="bold">Pages</text>
    <text x="990" y="665" text-anchor="middle" font-family="Helvetica" font-size="9">Static Sites</text>

    <!-- Automation Tools -->
    <rect x="50" y="400" width="300" height="240" fill="#fff2cc" stroke="#d6b656" stroke-width="2" rx="10"/>
    <text x="200" y="425" text-anchor="middle" font-family="Helvetica" font-size="16" font-weight="bold">自動化ツール</text>
    
    <!-- Terraform -->
    <rect x="70" y="450" width="80" height="40" fill="#ffffcc" stroke="#d6b656"/>
    <text x="110" y="470" text-anchor="middle" font-family="Helvetica" font-size="12" font-weight="bold">Terraform</text>
    
    <!-- Ansible -->
    <rect x="170" y="450" width="80" height="40" fill="#ffffcc" stroke="#d6b656"/>
    <text x="210" y="470" text-anchor="middle" font-family="Helvetica" font-size="12" font-weight="bold">Ansible</text>
    
    <!-- Aqua -->
    <rect x="270" y="450" width="60" height="40" fill="#ffffcc" stroke="#d6b656"/>
    <text x="300" y="470" text-anchor="middle" font-family="Helvetica" font-size="12" font-weight="bold">Aqua</text>
    
    <!-- TFAction -->
    <rect x="70" y="510" width="120" height="40" fill="#ffffcc" stroke="#d6b656"/>
    <text x="130" y="530" text-anchor="middle" font-family="Helvetica" font-size="11" font-weight="bold">TFAction</text>
    
    <!-- Renovate -->
    <rect x="210" y="510" width="80" height="40" fill="#ffffcc" stroke="#d6b656"/>
    <text x="250" y="530" text-anchor="middle" font-family="Helvetica" font-size="11" font-weight="bold">Renovate</text>
    
    <!-- lolice project reference -->
    <rect x="50" y="680" width="300" height="60" fill="#f8cecc" stroke="#b85450" stroke-width="1" rx="5"/>
    <text x="200" y="705" text-anchor="middle" font-family="Helvetica" font-size="14" font-weight="bold">lolice プロジェクト</text>
    <text x="200" y="720" text-anchor="middle" font-family="Helvetica" font-size="11">(Kubernetes アプリケーション管理)</text>
    <text x="200" y="735" text-anchor="middle" font-family="Helvetica" font-size="9">github.com/boxp/lolice</text>

    <!-- Connection lines -->
    
    <!-- Physical to Kubernetes -->
    <path d="M350 260 L400 260" stroke="#666666" stroke-width="2" marker-end="url(#arrowhead)"/>
    
    <!-- Kubernetes to AWS (External Secrets to SSM) -->
    <path d="M520 340 L940 230" stroke="#009900" stroke-width="2" stroke-dasharray="5,5" marker-end="url(#arrowhead)"/>
    <text x="730" y="275" text-anchor="middle" font-family="Helvetica" font-size="10" fill="#009900">Secrets</text>
    
    <!-- Kubernetes to AWS (ECR) -->
    <path d="M750 220 L820 220" stroke="#0066cc" stroke-width="2" stroke-dasharray="5,5" marker-end="url(#arrowhead)"/>
    <text x="785" y="210" text-anchor="middle" font-family="Helvetica" font-size="10" fill="#0066cc">Images</text>
    
    <!-- Kubernetes to Cloudflare (Tunnels) -->
    <path d="M575 400 L575 520 L940 585" stroke="#cc6600" stroke-width="2" stroke-dasharray="5,5" marker-end="url(#arrowhead)"/>
    <text x="650" y="490" text-anchor="middle" font-family="Helvetica" font-size="10" fill="#cc6600">External Access</text>
    
    <!-- Automation to Physical -->
    <path d="M200 400 L200 360" stroke="#999999" stroke-width="2" marker-end="url(#arrowhead)"/>
    <text x="160" y="380" font-family="Helvetica" font-size="10" fill="#999999">Configuration</text>
    
    <!-- Automation to Cloud Services -->
    <path d="M350 520 L800 400" stroke="#999999" stroke-width="2" stroke-dasharray="3,3" marker-end="url(#arrowhead)"/>
    <text x="575" y="445" text-anchor="middle" font-family="Helvetica" font-size="10" fill="#999999">IaC Management</text>
    
    <!-- Data Flow Indicators -->
    <text x="600" y="800" text-anchor="middle" font-family="Helvetica" font-size="12" font-style="italic">
      データフロー: 実線=直接接続, 破線=API/ネットワーク経由
    </text>

    <!-- Arrow marker definition -->
    <defs>
      <marker id="arrowhead" markerWidth="10" markerHeight="7" 
              refX="9" refY="3.5" orient="auto">
        <polygon points="0 0, 10 3.5, 0 7" fill="#666666" />
      </marker>
    </defs>
  </g>
</svg>